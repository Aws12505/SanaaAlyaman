import{r as y,u as _,j as e,H as S}from"./app-DoSZpP_U.js";import{C as x,a as h,b as p,c as j,d as u}from"./card-DI4NCw_n.js";import{B as c,X as F}from"./index-DlmgT6Eg.js";import{I as d}from"./input-CTGXkNPt.js";import{L as l}from"./label-B9GnpJkL.js";import{T as U}from"./textarea-B7cEZX0B.js";import{S as P,U as I}from"./switch-D9kaicC0.js";import{A as k}from"./app-layout-BwujotZH.js";import{A as E}from"./arrow-left-n772EUcA.js";import{U as A}from"./users-DAlZQqvN.js";import"./app-Cb5yk_6x.js";import"./createLucideIcon-CzcaZuQI.js";import"./index-BfxZPQpB.js";function J({staff:a}){const[o,g]=y.useState(a.image||null),N=[{title:"Dashboard",href:"/admin"},{title:"Staff",href:"/admin/staff"},{title:a.name,href:`/admin/staff/${a.id}`},{title:"Edit",href:`/admin/staff/${a.id}/edit`}],{data:t,setData:i,put:b,processing:f,errors:s}=_({name:a.name,role:a.role,bio:a.bio||"",image:null,sort_order:a.sort_order,is_active:a.is_active}),v=r=>{const m=r.target.files?.[0];if(m){i("image",m);const n=new FileReader;n.onloadend=()=>{g(n.result)},n.readAsDataURL(m)}},w=()=>{i("image",null),g(null)},C=r=>{r.preventDefault(),b(`/admin/staff/${a.id}`,{forceFormData:!0})};return e.jsxs(k,{breadcrumbs:N,children:[e.jsx(S,{title:`Edit ${a.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:`/admin/staff/${a.id}`,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Back to Staff Member"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Staff Member"}),e.jsx("p",{className:"text-muted-foreground",children:"Update team member information"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"Staff Information"}),e.jsx(j,{children:"Update basic information about the team member"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Full Name"}),e.jsx(d,{id:"name",value:t.name,onChange:r=>i("name",r.target.value),placeholder:"Enter full name",className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"role",children:"Role/Position"}),e.jsx(d,{id:"role",value:t.role,onChange:r=>i("role",r.target.value),placeholder:"e.g. Head Chef, Manager",className:s.role?"border-red-500":""}),s.role&&e.jsx("p",{className:"text-sm text-red-600",children:s.role})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bio",children:"Biography"}),e.jsx(U,{id:"bio",value:t.bio,onChange:r=>i("bio",r.target.value),placeholder:"Tell us about this team member...",rows:4,className:s.bio?"border-red-500":""}),s.bio&&e.jsx("p",{className:"text-sm text-red-600",children:s.bio})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(d,{id:"sort_order",type:"number",value:t.sort_order,onChange:r=>i("sort_order",parseInt(r.target.value)),placeholder:"0",className:s.sort_order?"border-red-500":""}),s.sort_order&&e.jsx("p",{className:"text-sm text-red-600",children:s.sort_order})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"is_active",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(P,{id:"is_active",checked:t.is_active,onCheckedChange:r=>i("is_active",r)}),e.jsx(l,{htmlFor:"is_active",children:t.is_active?"Active":"Inactive"})]})]})]})]})]}),e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"Profile Photo"}),e.jsx(j,{children:"Update or change the team member's photo"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[o?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o,alt:"Preview",className:"w-full max-w-md mx-auto rounded-lg aspect-square object-cover"}),e.jsx(c,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:w,children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsx(d,{type:"file",accept:"image/*",onChange:v,className:"max-w-xs mx-auto"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[e.jsx(I,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Click to upload a photo"}),e.jsx(d,{type:"file",accept:"image/*",onChange:v,className:"max-w-xs mx-auto"})]}),s.image&&e.jsx("p",{className:"text-sm text-red-600",children:s.image})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(c,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:`/admin/staff/${a.id}`,children:"Cancel"})}),e.jsx(c,{type:"submit",disabled:f,children:f?"Updating...":"Update Staff Member"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(x,{className:"sticky top-6",children:[e.jsxs(h,{children:[e.jsx(p,{children:"Preview"}),e.jsx(j,{children:"How this will appear on the website"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-square bg-muted rounded-lg overflow-hidden",children:o?e.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:e.jsx(A,{className:"h-12 w-12"})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.name||"Staff Name"}),e.jsx("p",{className:"text-blue-600 font-medium",children:t.role||"Position"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t.bio||"Staff biography will appear here"})]})]})})]})})]})]})]})}export{J as default};
