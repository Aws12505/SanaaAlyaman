import{a as I,r as g,j as e,H as U,L as x,b as o}from"./app-DoSZpP_U.js";import{C as r,a as i,b as d,d as l}from"./card-DI4NCw_n.js";import{B as y}from"./badge-C24uob3b.js";import{B as h}from"./index-DlmgT6Eg.js";import{I as V}from"./input-CTGXkNPt.js";import{S,a as C,b as T,c as A,d as a}from"./select-DCNE8GgQ.js";import{A as H,D as L,a as q,b as z,c as m}from"./app-layout-BwujotZH.js";import{P as k}from"./plus-DLD6OHsB.js";import{M as N}from"./message-square-BmagFxDv.js";import{C as F}from"./circle-check-big-BEISEQo-.js";import{C as G}from"./clock-BPOSAfj9.js";import{S as j}from"./star-BuRk8N7y.js";import{S as J}from"./search-Bdcpi0dt.js";import{U as K}from"./users-DAlZQqvN.js";import{T as O}from"./thumbs-up-eQQ6T65V.js";import{E as Q}from"./ellipsis-DWjKTGDx.js";import{E as W}from"./eye-BBjpTwE5.js";import{S as X}from"./square-pen-BsZSUHa4.js";import{T as Y}from"./trash-2-v377c_gJ.js";import"./app-Cb5yk_6x.js";import"./createLucideIcon-CzcaZuQI.js";import"./index-BfxZPQpB.js";import"./check-B8pZigyg.js";const Z=[{title:"Dashboard",href:"/admin"},{title:"Testimonials",href:"/admin/testimonials"}];function ye({testimonials:v,filters:t,stats:n}){const{flash:w}=I().props,[u,D]=g.useState(t.search||""),[f,_]=g.useState(t.status||void 0),[p,M]=g.useState(t.rating||void 0),P=s=>{s.preventDefault();const c={};u&&(c.search=u),f&&(c.status=f),p&&(c.rating=p),o.get("/admin/testimonials",c)},E=s=>{confirm("Are you sure you want to delete this testimonial?")&&o.delete(`/admin/testimonials/${s}`)},R=s=>{o.patch(`/admin/testimonials/${s}/approve`)},$=s=>{o.patch(`/admin/testimonials/${s}/toggle-featured`)},B=s=>Array.from({length:5},(c,b)=>e.jsx(j,{className:`h-4 w-4 ${b<s?"text-yellow-400 fill-current":"text-gray-300"}`},b));return e.jsxs(H,{breadcrumbs:Z,children:[e.jsx(U,{title:"Testimonials"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-6",children:[w?.success&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:w.success}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Testimonials"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage customer reviews and testimonials"})]}),e.jsx(h,{asChild:!0,children:e.jsxs(x,{href:"/admin/testimonials/create",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Add Testimonial"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Total"}),e.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold",children:n.total})})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Approved"}),e.jsx(F,{className:"h-4 w-4 text-green-600"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:n.approved})})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Pending"}),e.jsx(G,{className:"h-4 w-4 text-orange-600"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n.pending})})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Featured"}),e.jsx(j,{className:"h-4 w-4 text-blue-600"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:n.featured})})]}),e.jsxs(r,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Avg Rating"}),e.jsx(j,{className:"h-4 w-4 text-yellow-600"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:n.average_rating})})]})]}),e.jsxs(r,{children:[e.jsx(i,{children:e.jsx(d,{children:"Filters"})}),e.jsx(l,{children:e.jsxs("form",{onSubmit:P,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(V,{placeholder:"Search testimonials...",value:u,onChange:s=>D(s.target.value)})}),e.jsxs(S,{value:f,onValueChange:s=>_(s==="all"?void 0:s),children:[e.jsx(C,{className:"w-40",children:e.jsx(T,{placeholder:"All Status"})}),e.jsxs(A,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"approved",children:"Approved"}),e.jsx(a,{value:"pending",children:"Pending"}),e.jsx(a,{value:"featured",children:"Featured"})]})]}),e.jsxs(S,{value:p,onValueChange:s=>M(s==="all"?void 0:s),children:[e.jsx(C,{className:"w-32",children:e.jsx(T,{placeholder:"All Ratings"})}),e.jsxs(A,{children:[e.jsx(a,{value:"all",children:"All Ratings"}),e.jsx(a,{value:"5",children:"5 Stars"}),e.jsx(a,{value:"4",children:"4 Stars"}),e.jsx(a,{value:"3",children:"3 Stars"}),e.jsx(a,{value:"2",children:"2 Stars"}),e.jsx(a,{value:"1",children:"1 Star"})]})]}),e.jsxs(h,{type:"submit",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Search"]})]})})]}),e.jsx("div",{className:"space-y-4",children:v.data.map(s=>e.jsx(r,{className:"hover:shadow-lg transition-shadow",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:s.avatar?e.jsx("img",{src:s.avatar,alt:s.name,className:"w-12 h-12 rounded-full object-cover"}):e.jsx("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center",children:e.jsx(K,{className:"w-6 h-6 text-muted-foreground"})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx("div",{className:"flex gap-1",children:B(s.rating)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{variant:s.is_approved?"default":"secondary",children:s.is_approved?"Approved":"Pending"}),s.is_featured&&e.jsx(y,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Featured"})]})]}),e.jsxs("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:['"',s.message,'"']}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"w-4 h-4"}),s.likes," likes"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-4 h-4"}),s.comments," comments"]}),e.jsx("span",{children:s.time_ago})]})]}),e.jsxs(L,{children:[e.jsx(q,{asChild:!0,children:e.jsx(h,{variant:"ghost",size:"sm",children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsxs(z,{children:[e.jsx(m,{asChild:!0,children:e.jsxs(x,{href:`/admin/testimonials/${s.id}`,children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),"View Details"]})}),e.jsx(m,{asChild:!0,children:e.jsxs(x,{href:`/admin/testimonials/${s.id}/edit`,children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Edit"]})}),e.jsxs(m,{onClick:()=>R(s.id),children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),s.is_approved?"Unapprove":"Approve"]}),e.jsxs(m,{onClick:()=>$(s.id),children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),s.is_featured?"Remove Featured":"Make Featured"]}),e.jsxs(m,{className:"text-red-600",onClick:()=>E(s.id),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]})})]})})},s.id))}),v.data.length===0&&e.jsx(r,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(N,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No testimonials found"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:t.search||t.status||t.rating?"Try adjusting your filters to find what you're looking for.":"Get started by adding your first testimonial."}),e.jsx(h,{asChild:!0,children:e.jsxs(x,{href:"/admin/testimonials/create",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Add First Testimonial"]})})]})})]})]})}export{ye as default};
