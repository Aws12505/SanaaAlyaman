import{a as $,r as g,j as e,H as B,L as m,b as p}from"./app-DoSZpP_U.js";import{C as a,a as n,b as c,d as l,c as H}from"./card-DI4NCw_n.js";import{B as x}from"./badge-C24uob3b.js";import{B as h}from"./index-DlmgT6Eg.js";import{I as V}from"./input-CTGXkNPt.js";import{S,a as C,b as D,c as _,d as t}from"./select-DCNE8GgQ.js";import{A as L,D as U,a as R,b as q,c as d}from"./app-layout-BwujotZH.js";import{P as A}from"./plus-DLD6OHsB.js";import{C as b}from"./chef-hat-JopwK0Qc.js";import{P as k}from"./package-C_H3aOqv.js";import{S as N}from"./star-BuRk8N7y.js";import{S as z}from"./search-Bdcpi0dt.js";import{E as G}from"./ellipsis-DWjKTGDx.js";import{E as Y}from"./eye-BBjpTwE5.js";import{S as J}from"./square-pen-BsZSUHa4.js";import{T as K}from"./trash-2-v377c_gJ.js";import{D as O}from"./dollar-sign-Bd8HZONp.js";import"./app-Cb5yk_6x.js";import"./createLucideIcon-CzcaZuQI.js";import"./index-BfxZPQpB.js";import"./check-B8pZigyg.js";const Q=[{title:"Dashboard",href:"/admin"},{title:"Dishes",href:"/admin/dishes"}];function pe({dishes:v,categories:F,filters:r,stats:o}){const{flash:w}=$().props,[u,T]=g.useState(r.search||""),[j,M]=g.useState(r.category_id||void 0),[f,E]=g.useState(r.status||void 0),P=s=>{s.preventDefault();const i={};u&&(i.search=u),j&&(i.category_id=j),f&&(i.status=f),p.get("/admin/dishes",i)},I=s=>{confirm("Are you sure you want to delete this dish?")&&p.delete(`/admin/dishes/${s}`)},y=(s,i)=>{p.patch(`/admin/dishes/${s}/toggle-status`,{field:i})};return e.jsxs(L,{breadcrumbs:Q,children:[e.jsx(B,{title:"Dishes"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-6",children:[w?.success&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:w.success}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dishes"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your restaurant menu items"})]}),e.jsx(h,{asChild:!0,children:e.jsxs(m,{href:"/admin/dishes/create",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Add Dish"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Total Dishes"}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold",children:o.total})})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Available"}),e.jsx(k,{className:"h-4 w-4 text-green-600"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.available})})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Signature"}),e.jsx(N,{className:"h-4 w-4 text-yellow-600"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:o.signature})})]}),e.jsxs(a,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Featured"}),e.jsx(N,{className:"h-4 w-4 text-blue-600"})]}),e.jsx(l,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.featured})})]})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsx(c,{children:"Filters"})}),e.jsx(l,{children:e.jsxs("form",{onSubmit:P,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(V,{placeholder:"Search dishes...",value:u,onChange:s=>T(s.target.value)})}),e.jsxs(S,{value:j,onValueChange:s=>M(s==="all"?void 0:s),children:[e.jsx(C,{className:"w-48",children:e.jsx(D,{placeholder:"All Categories"})}),e.jsxs(_,{children:[e.jsx(t,{value:"all",children:"All Categories"}),F.map(s=>e.jsx(t,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(S,{value:f,onValueChange:s=>E(s==="all"?void 0:s),children:[e.jsx(C,{className:"w-40",children:e.jsx(D,{placeholder:"All Status"})}),e.jsxs(_,{children:[e.jsx(t,{value:"all",children:"All Status"}),e.jsx(t,{value:"available",children:"Available"}),e.jsx(t,{value:"unavailable",children:"Unavailable"}),e.jsx(t,{value:"signature",children:"Signature"}),e.jsx(t,{value:"featured",children:"Featured"})]})]}),e.jsxs(h,{type:"submit",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Search"]})]})})]}),e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:v.data.map(s=>e.jsxs(a,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"aspect-video relative bg-muted",children:[s.main_image?e.jsx("img",{src:s.main_image,alt:s.name,className:"object-cover w-full h-full"}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:e.jsx(b,{className:"h-12 w-12"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-wrap gap-1",children:[e.jsx(x,{variant:s.is_available?"default":"secondary",className:"text-xs",children:s.is_available?"Available":"Unavailable"}),s.is_signature&&e.jsx(x,{variant:"outline",className:"text-xs bg-yellow-50 text-yellow-700 border-yellow-200",children:"Signature"}),s.is_featured&&e.jsx(x,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:"Featured"})]}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(U,{children:[e.jsx(R,{asChild:!0,children:e.jsx(h,{variant:"secondary",size:"sm",children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsxs(q,{children:[e.jsx(d,{asChild:!0,children:e.jsxs(m,{href:`/admin/dishes/${s.id}`,children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"View"]})}),e.jsx(d,{asChild:!0,children:e.jsxs(m,{href:`/admin/dishes/${s.id}/edit`,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Edit"]})}),e.jsxs(d,{onClick:()=>y(s.id,"is_available"),children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),s.is_available?"Mark Unavailable":"Mark Available"]}),e.jsxs(d,{onClick:()=>y(s.id,"is_signature"),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),s.is_signature?"Remove Signature":"Make Signature"]}),e.jsxs(d,{className:"text-red-600",onClick:()=>I(s.id),children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]}),e.jsxs(n,{children:[e.jsx(c,{className:"text-lg line-clamp-1",children:s.name}),e.jsx(H,{className:"line-clamp-2",children:s.description})]}),e.jsx(l,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",s.price]})]}),e.jsx(x,{variant:"outline",children:s.category.name})]})})]},s.id))}),v.data.length===0&&e.jsx(a,{children:e.jsxs(l,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(b,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No dishes found"}),e.jsx("p",{className:"text-muted-foreground text-center mb-4",children:r.search||r.category_id||r.status?"Try adjusting your filters to find what you're looking for.":"Get started by adding your first dish to the menu."}),e.jsx(h,{asChild:!0,children:e.jsxs(m,{href:"/admin/dishes/create",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Add Your First Dish"]})})]})})]})]})}export{pe as default};
