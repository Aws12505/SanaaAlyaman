import{r as F,u as U,j as e,H as A}from"./app-DoSZpP_U.js";import{C as c,a as n,b as m,c as o,d as x}from"./card-DI4NCw_n.js";import{B as j,X as E}from"./index-DlmgT6Eg.js";import{I as u}from"./input-CTGXkNPt.js";import{L as d}from"./label-B9GnpJkL.js";import{T as S}from"./textarea-B7cEZX0B.js";import{U as T,S as w}from"./switch-D9kaicC0.js";import{A as $}from"./app-layout-BwujotZH.js";import{A as D}from"./arrow-left-n772EUcA.js";import{U as I}from"./users-DAlZQqvN.js";import{S as P}from"./star-BuRk8N7y.js";import"./app-Cb5yk_6x.js";import"./createLucideIcon-CzcaZuQI.js";import"./index-BfxZPQpB.js";function W({testimonial:a}){const[h,f]=F.useState(a.avatar||null),y=[{title:"Dashboard",href:"/admin"},{title:"Testimonials",href:"/admin/testimonials"},{title:a.name,href:`/admin/testimonials/${a.id}`},{title:"Edit",href:`/admin/testimonials/${a.id}/edit`}],{data:t,setData:i,put:C,processing:v,errors:r}=U({name:a.name,email:a.email||"",message:a.message,avatar:null,rating:a.rating,is_approved:a.is_approved,is_featured:a.is_featured}),N=s=>{const l=s.target.files?.[0];if(l){i("avatar",l);const p=new FileReader;p.onloadend=()=>{f(p.result)},p.readAsDataURL(l)}},_=()=>{i("avatar",null),f(null)},k=s=>{s.preventDefault(),C(`/admin/testimonials/${a.id}`,{forceFormData:!0})},b=(s,l=!1)=>Array.from({length:5},(p,g)=>e.jsx(P,{className:`h-6 w-6 ${g<s?"text-yellow-400 fill-current":"text-gray-300"} ${l?"cursor-pointer hover:text-yellow-400":""}`,onClick:()=>l&&i("rating",g+1)},g));return e.jsxs($,{breadcrumbs:y,children:[e.jsx(A,{title:`Edit Testimonial by ${a.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:`/admin/testimonials/${a.id}`,children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Back to Testimonial"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Testimonial"}),e.jsx("p",{className:"text-muted-foreground",children:"Update customer testimonial"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs(c,{children:[e.jsxs(n,{children:[e.jsx(m,{children:"Customer Information"}),e.jsx(o,{children:"Update customer information"})]}),e.jsx(x,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Customer Name"}),e.jsx(u,{id:"name",value:t.name,onChange:s=>i("name",s.target.value),placeholder:"Enter customer name",className:r.name?"border-red-500":""}),r.name&&e.jsx("p",{className:"text-sm text-red-600",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email (Optional)"}),e.jsx(u,{id:"email",type:"email",value:t.email,onChange:s=>i("email",s.target.value),placeholder:"customer@example.com",className:r.email?"border-red-500":""}),r.email&&e.jsx("p",{className:"text-sm text-red-600",children:r.email})]})]})})]}),e.jsxs(c,{children:[e.jsxs(n,{children:[e.jsx(m,{children:"Review Details"}),e.jsx(o,{children:"Update the customer's review and rating"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"rating",children:"Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:b(t.rating,!0)}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",t.rating,"/5 stars)"]})]}),r.rating&&e.jsx("p",{className:"text-sm text-red-600",children:r.rating})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"message",children:"Review Message"}),e.jsx(S,{id:"message",value:t.message,onChange:s=>i("message",s.target.value),placeholder:"Enter the customer's review...",rows:6,className:r.message?"border-red-500":""}),r.message&&e.jsx("p",{className:"text-sm text-red-600",children:r.message})]})]})]}),e.jsxs(c,{children:[e.jsxs(n,{children:[e.jsx(m,{children:"Customer Avatar"}),e.jsx(o,{children:"Update or change the customer's photo"})]}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[h?e.jsxs("div",{className:"relative text-center",children:[e.jsx("img",{src:h,alt:"Preview",className:"w-32 h-32 mx-auto rounded-full object-cover"}),e.jsx(j,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 right-[calc(50%-4rem)]",onClick:_,children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("div",{className:"mt-2",children:e.jsx(u,{type:"file",accept:"image/*",onChange:N,className:"max-w-xs mx-auto"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[e.jsx(T,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Click to upload avatar"}),e.jsx(u,{type:"file",accept:"image/*",onChange:N,className:"max-w-xs mx-auto"})]}),r.avatar&&e.jsx("p",{className:"text-sm text-red-600",children:r.avatar})]})})]}),e.jsxs(c,{children:[e.jsxs(n,{children:[e.jsx(m,{children:"Publication Settings"}),e.jsx(o,{children:"Control how this testimonial appears"})]}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(d,{htmlFor:"is_approved",children:"Approved"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow this testimonial to be displayed publicly"})]}),e.jsx(w,{id:"is_approved",checked:t.is_approved,onCheckedChange:s=>i("is_approved",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(d,{htmlFor:"is_featured",children:"Featured"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Highlight this testimonial in featured sections"})]}),e.jsx(w,{id:"is_featured",checked:t.is_featured,onCheckedChange:s=>i("is_featured",s)})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(j,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:`/admin/testimonials/${a.id}`,children:"Cancel"})}),e.jsx(j,{type:"submit",disabled:v,children:v?"Updating...":"Update Testimonial"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(c,{className:"sticky top-6",children:[e.jsxs(n,{children:[e.jsx(m,{children:"Preview"}),e.jsx(o,{children:"How this testimonial will appear"})]}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:h?e.jsx("img",{src:h,alt:"Preview",className:"w-12 h-12 rounded-full object-cover"}):e.jsx("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center",children:e.jsx(I,{className:"w-6 h-6 text-muted-foreground"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:t.name||"Customer Name"}),e.jsx("div",{className:"flex",children:b(t.rating)})]})]}),e.jsxs("blockquote",{className:"text-sm leading-relaxed p-3 bg-muted rounded",children:['"',t.message||"Customer review will appear here...",'"']}),e.jsxs("div",{className:"flex gap-2",children:[t.is_approved&&e.jsx("div",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Approved"}),t.is_featured&&e.jsx("div",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Featured"})]})]})})]})})]})]})]})}export{W as default};
