import{r as _,u as k,j as e,H as A}from"./app-Cxt0utQE.js";import{C as d,a as n,b as c,c as m,d as o}from"./card-CH0fhSIt.js";import{B as p,X as F}from"./index-Cxe2JAIB.js";import{I as j}from"./input-vM-Ex7my.js";import{L as i}from"./label-B7-htNwP.js";import{T}from"./textarea-BIGcLUVl.js";import{U as S,S as N}from"./switch-fkgsq0Lk.js";import{A as D}from"./app-layout-Bxadt-Zd.js";import{A as I}from"./arrow-left-CcXWulZj.js";import{U as P}from"./users-B-hV3F8_.js";import{S as R}from"./star-BQ2xsDLh.js";import"./app-B88Y09HE.js";import"./createLucideIcon-Db5qSUaR.js";import"./index-BEk2UiLn.js";const U=[{title:"Dashboard",href:"/admin"},{title:"Testimonials",href:"/admin/testimonials"},{title:"Create Testimonial",href:"/admin/testimonials/create"}];function V(){const[x,g]=_.useState(null),{data:r,setData:t,post:b,processing:f,errors:a}=k({name:"",email:"",message:"",avatar:null,rating:5,is_approved:!0,is_featured:!1}),w=s=>{const l=s.target.files?.[0];if(l){t("avatar",l);const h=new FileReader;h.onloadend=()=>{g(h.result)},h.readAsDataURL(l)}},C=()=>{t("avatar",null),g(null)},y=s=>{s.preventDefault(),b("/admin/testimonials",{forceFormData:!0})},v=(s,l=!1)=>Array.from({length:5},(h,u)=>e.jsx(R,{className:`h-6 w-6 ${u<s?"text-yellow-400 fill-current":"text-gray-300"} ${l?"cursor-pointer hover:text-yellow-400":""}`,onClick:()=>l&&t("rating",u+1)},u));return e.jsxs(D,{breadcrumbs:U,children:[e.jsx(A,{title:"Create Testimonial"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:"/admin/testimonials",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Back to Testimonials"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Add Testimonial"}),e.jsx("p",{className:"text-muted-foreground",children:"Create a new customer testimonial"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(n,{children:[e.jsx(c,{children:"Customer Information"}),e.jsx(m,{children:"Information about the customer who left the review"})]}),e.jsx(o,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Customer Name"}),e.jsx(j,{id:"name",value:r.name,onChange:s=>t("name",s.target.value),placeholder:"Enter customer name",className:a.name?"border-red-500":""}),a.name&&e.jsx("p",{className:"text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email (Optional)"}),e.jsx(j,{id:"email",type:"email",value:r.email,onChange:s=>t("email",s.target.value),placeholder:"customer@example.com",className:a.email?"border-red-500":""}),a.email&&e.jsx("p",{className:"text-sm text-red-600",children:a.email})]})]})})]}),e.jsxs(d,{children:[e.jsxs(n,{children:[e.jsx(c,{children:"Review Details"}),e.jsx(m,{children:"The customer's review and rating"})]}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"rating",children:"Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex",children:v(r.rating,!0)}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r.rating,"/5 stars)"]})]}),a.rating&&e.jsx("p",{className:"text-sm text-red-600",children:a.rating})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"message",children:"Review Message"}),e.jsx(T,{id:"message",value:r.message,onChange:s=>t("message",s.target.value),placeholder:"Enter the customer's review...",rows:6,className:a.message?"border-red-500":""}),a.message&&e.jsx("p",{className:"text-sm text-red-600",children:a.message})]})]})]}),e.jsxs(d,{children:[e.jsxs(n,{children:[e.jsx(c,{children:"Customer Avatar"}),e.jsx(m,{children:"Upload a photo of the customer (optional)"})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[x?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x,alt:"Preview",className:"w-32 h-32 mx-auto rounded-full object-cover"}),e.jsx(p,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:C,children:e.jsx(F,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[e.jsx(S,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Click to upload avatar"}),e.jsx(j,{type:"file",accept:"image/*",onChange:w,className:"max-w-xs mx-auto"})]}),a.avatar&&e.jsx("p",{className:"text-sm text-red-600",children:a.avatar})]})})]}),e.jsxs(d,{children:[e.jsxs(n,{children:[e.jsx(c,{children:"Publication Settings"}),e.jsx(m,{children:"Control how this testimonial appears"})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{htmlFor:"is_approved",children:"Approved"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Allow this testimonial to be displayed publicly"})]}),e.jsx(N,{id:"is_approved",checked:r.is_approved,onCheckedChange:s=>t("is_approved",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(i,{htmlFor:"is_featured",children:"Featured"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Highlight this testimonial in featured sections"})]}),e.jsx(N,{id:"is_featured",checked:r.is_featured,onCheckedChange:s=>t("is_featured",s)})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(p,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:"/admin/testimonials",children:"Cancel"})}),e.jsx(p,{type:"submit",disabled:f,children:f?"Creating...":"Create Testimonial"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(d,{className:"sticky top-6",children:[e.jsxs(n,{children:[e.jsx(c,{children:"Preview"}),e.jsx(m,{children:"How this testimonial will appear"})]}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:x?e.jsx("img",{src:x,alt:"Preview",className:"w-12 h-12 rounded-full object-cover"}):e.jsx("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center",children:e.jsx(P,{className:"w-6 h-6 text-muted-foreground"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:r.name||"Customer Name"}),e.jsx("div",{className:"flex",children:v(r.rating)})]})]}),e.jsxs("blockquote",{className:"text-sm leading-relaxed p-3 bg-muted rounded",children:['"',r.message||"Customer review will appear here...",'"']}),e.jsxs("div",{className:"flex gap-2",children:[r.is_approved&&e.jsx("div",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Approved"}),r.is_featured&&e.jsx("div",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Featured"})]})]})})]})})]})]})]})}export{V as default};
