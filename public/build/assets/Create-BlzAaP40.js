import{r as b,u as w,j as e,H as _}from"./app-Cxt0utQE.js";import{C as n,a as m,b as x,c as h,d as p}from"./card-CH0fhSIt.js";import{B as c,X as I}from"./index-Cxe2JAIB.js";import{I as g}from"./input-vM-Ex7my.js";import{L as i}from"./label-B7-htNwP.js";import{T as F}from"./textarea-BIGcLUVl.js";import{S as k,U as f}from"./switch-fkgsq0Lk.js";import{A}from"./app-layout-Bxadt-Zd.js";import{A as D}from"./arrow-left-CcXWulZj.js";import"./app-B88Y09HE.js";import"./createLucideIcon-Db5qSUaR.js";import"./index-BEk2UiLn.js";const S=[{title:"Dashboard",href:"/admin"},{title:"Categories",href:"/admin/categories"},{title:"Create Category",href:"/admin/categories/create"}];function G(){const[l,j]=b.useState(null),{data:r,setData:t,post:v,processing:u,errors:s}=w({name:"",description:"",image:null,sort_order:0,is_active:!0}),N=a=>{const d=a.target.files?.[0];if(d){t("image",d);const o=new FileReader;o.onloadend=()=>{j(o.result)},o.readAsDataURL(d)}},C=()=>{t("image",null),j(null)},y=a=>{a.preventDefault(),v("/admin/categories",{forceFormData:!0})};return e.jsxs(A,{breadcrumbs:S,children:[e.jsx(_,{title:"Create Category"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:"/admin/categories",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Back to Categories"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Create Category"}),e.jsx("p",{className:"text-muted-foreground",children:"Add a new menu category"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Category Information"}),e.jsx(h,{children:"Basic information about the category"})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"name",children:"Category Name"}),e.jsx(g,{id:"name",value:r.name,onChange:a=>t("name",a.target.value),placeholder:"Enter category name",className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"description",children:"Description"}),e.jsx(F,{id:"description",value:r.description,onChange:a=>t("description",a.target.value),placeholder:"Enter category description",rows:4,className:s.description?"border-red-500":""}),s.description&&e.jsx("p",{className:"text-sm text-red-600",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(g,{id:"sort_order",type:"number",value:r.sort_order,onChange:a=>t("sort_order",parseInt(a.target.value)),placeholder:"0",className:s.sort_order?"border-red-500":""}),s.sort_order&&e.jsx("p",{className:"text-sm text-red-600",children:s.sort_order})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"is_active",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(k,{id:"is_active",checked:r.is_active,onCheckedChange:a=>t("is_active",a)}),e.jsx(i,{htmlFor:"is_active",children:r.is_active?"Active":"Inactive"})]})]})]})]})]}),e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsx(x,{children:"Category Image"}),e.jsx(h,{children:"Upload an image for this category"})]}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[l?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:"Preview",className:"w-full max-w-md mx-auto rounded-lg"}),e.jsx(c,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:C,children:e.jsx(I,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[e.jsx(f,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Click to upload an image"}),e.jsx(g,{type:"file",accept:"image/*",onChange:N,className:"max-w-xs mx-auto"})]}),s.image&&e.jsx("p",{className:"text-sm text-red-600",children:s.image})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(c,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:"/admin/categories",children:"Cancel"})}),e.jsx(c,{type:"submit",disabled:u,children:u?"Creating...":"Create Category"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(n,{className:"sticky top-6",children:[e.jsxs(m,{children:[e.jsx(x,{children:"Preview"}),e.jsx(h,{children:"How this category will appear"})]}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:l?e.jsx("img",{src:l,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:e.jsx(f,{className:"h-8 w-8"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:r.name||"Category Name"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.description||"Category description will appear here"})]})]})})]})})]})]})]})}export{G as default};
