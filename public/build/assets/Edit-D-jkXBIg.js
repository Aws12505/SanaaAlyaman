import{r as _,u as I,j as e,H as E}from"./app-CWTXuZkJ.js";import{C as x,a as h,b as p,c as j,d as u}from"./card-D_MOTZP3.js";import{B as c,X as F}from"./index-C2GuUNfC.js";import{I as n}from"./input-DL7XBjXc.js";import{L as d}from"./label-CsYHzE_B.js";import{T as U}from"./textarea-FZDDKFkK.js";import{S as k,U as N}from"./switch-Dj9at-wE.js";import{A as D}from"./app-layout-B_Yv-vHZ.js";import{A as S}from"./arrow-left-QNVnc7DH.js";import"./app-BI-nTSYQ.js";import"./createLucideIcon-DYWIouYm.js";import"./index-DZt4rhUA.js";function G({category:r}){const[l,g]=_.useState(r.image||null),C=[{title:"Dashboard",href:"/admin"},{title:"Categories",href:"/admin/categories"},{title:r.name,href:`/admin/categories/${r.id}`},{title:"Edit",href:`/admin/categories/${r.id}/edit`}],{data:t,setData:i,put:b,processing:f,errors:s}=I({name:r.name,description:r.description||"",image:null,sort_order:r.sort_order,is_active:r.is_active}),v=a=>{const o=a.target.files?.[0];if(o){i("image",o);const m=new FileReader;m.onloadend=()=>{g(m.result)},m.readAsDataURL(o)}},w=()=>{i("image",null),g(null)},y=a=>{a.preventDefault(),b(`/admin/categories/${r.id}`,{forceFormData:!0})};return e.jsxs(D,{breadcrumbs:C,children:[e.jsx(E,{title:`Edit ${r.name}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 overflow-x-auto p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:"/admin/categories",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Back to Categories"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Edit Category"}),e.jsx("p",{className:"text-muted-foreground",children:"Update category information"})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"Category Information"}),e.jsx(j,{children:"Update basic information about the category"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"name",children:"Category Name"}),e.jsx(n,{id:"name",value:t.name,onChange:a=>i("name",a.target.value),placeholder:"Enter category name",className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-sm text-red-600",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"description",children:"Description"}),e.jsx(U,{id:"description",value:t.description,onChange:a=>i("description",a.target.value),placeholder:"Enter category description",rows:4,className:s.description?"border-red-500":""}),s.description&&e.jsx("p",{className:"text-sm text-red-600",children:s.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(n,{id:"sort_order",type:"number",value:t.sort_order,onChange:a=>i("sort_order",parseInt(a.target.value)),placeholder:"0",className:s.sort_order?"border-red-500":""}),s.sort_order&&e.jsx("p",{className:"text-sm text-red-600",children:s.sort_order})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"is_active",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(k,{id:"is_active",checked:t.is_active,onCheckedChange:a=>i("is_active",a)}),e.jsx(d,{htmlFor:"is_active",children:t.is_active?"Active":"Inactive"})]})]})]})]})]}),e.jsxs(x,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"Category Image"}),e.jsx(j,{children:"Upload or update the category image"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[l?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:"Preview",className:"w-full max-w-md mx-auto rounded-lg"}),e.jsx(c,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:w,children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsx(n,{type:"file",accept:"image/*",onChange:v,className:"max-w-xs mx-auto"})})]}):e.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-6 text-center",children:[e.jsx(N,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Click to upload an image"}),e.jsx(n,{type:"file",accept:"image/*",onChange:v,className:"max-w-xs mx-auto"})]}),s.image&&e.jsx("p",{className:"text-sm text-red-600",children:s.image})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(c,{type:"button",variant:"outline",asChild:!0,children:e.jsx("a",{href:"/admin/categories",children:"Cancel"})}),e.jsx(c,{type:"submit",disabled:f,children:f?"Updating...":"Update Category"})]})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(x,{className:"sticky top-6",children:[e.jsxs(h,{children:[e.jsx(p,{children:"Preview"}),e.jsx(j,{children:"How this category will appear"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:l?e.jsx("img",{src:l,alt:"Preview",className:"w-full h-full object-cover"}):e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:e.jsx(N,{className:"h-8 w-8"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:t.name||"Category Name"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description||"Category description will appear here"})]})]})})]})})]})]})]})}export{G as default};
